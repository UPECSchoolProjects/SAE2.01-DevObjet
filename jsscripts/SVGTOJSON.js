

const input = `
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 529.19705,3512.4929 -67.83386,68.7631"
id="path1718"
inkscape:label="Billancourt-PontDeSevres" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 598.88937,3444.1945 -69.69232,68.2984"
id="path1716"
inkscape:label="MarcelSembat-Billancourt" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 665.91015,3355.6852 c 0,0 0.39272,9.5905 -0.81308,14.4031 -1.24908,4.9853 -2.43422,9.1147 -5.80769,13.4739 -10.55066,13.6336 -60.40001,60.6323 -60.40001,60.6323"
id="path1712"
inkscape:label="PorteDeStCloud-MarcelSembat" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 665.79399,3253.7021 0.11616,101.9831"
id="path1708"
inkscape:label="Exelmans-PorteDeStCloud" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 665.89605,3140.9257 -0.10206,112.7764"
id="path1706"
inkscape:label="MichelAngeMolitor-Exelmans" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 665.77989,3028.7832 0.11616,112.1425"
id="path1704"
inkscape:label="MichelAngleAuteuil-MichelAngeMolitor" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 665.76339,2863.2791 0.0165,165.5041"
id="path1702"
inkscape:label="Jasmin-MichelAngleAuteuil" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 665.78329,2697.5426 -0.0199,165.7365"
id="path1700"
inkscape:label="Ranelagh-Jasmin" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 665.97573,2526.6657 -0.19244,170.8769"
id="path1696"
inkscape:label="LaMuette-Ranelagh" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 703.40854,2344.9705 c 0,0 -19.13468,-0.4334 -27.67305,0.1327 -4.32675,0.2869 -9.02564,4.7157 -9.35493,9.0395 -0.57096,7.4971 -0.40483,172.523 -0.40483,172.523"
id="path1692"
inkscape:label="RueDeLaPompe-LaMuette" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 878.8251,2344.4097 -175.41656,0.5608"
id="path1690"
inkscape:label="Trocadero-RueDeLaPompe" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 1056.5613,2344.7382 -177.7362,-0.3285"
id="path1686"
inkscape:label="Iena-Trocadero" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 1242.8394,2271.4754 -64.9698,63.6357 c -2.2517,2.2055 -8.225,9.2424 -14.2528,9.5109 -4.6811,0.2085 -72.7642,0.078 -107.0555,0.1162"
id="path1682"
inkscape:label="AlmaMarceau-Iena" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 1382.7943,2129.8778 -139.9549,141.5976"
id="path1680"
inkscape:label="FranklinDRoosevelt-AlmaMarceau" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 1514.536,1998.4647 -131.7417,131.4131"
id="path1678"
inkscape:label="StPhilippeDuRoule-FranklinDRoosevelt" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 1594.3694,1918.6312 -79.8334,79.8335"
id="path1676"
inkscape:label="Miromesnil-StPhilippeDuRoule" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 1661.7949,1850.5851 -67.4255,68.0461"
id="path1672"
inkscape:label="StAugustin-Miromesnil" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 1819.0857,1912.7058 c 0,0 -13.5024,-0.4875 -19.9641,-0.5009 -8.7109,-0.018 -8.7065,0.097 -15.7462,-5.8703 -3.2088,-2.7199 -76.953,-77.1697 -82.302,-82.2543 -3.2516,-3.0909 -10.1368,-2.8147 -13.4571,0.2022 -3.8303,3.4803 -25.8214,26.3026 -25.8214,26.3026"
id="path1668"
inkscape:label="HavreCaumartin-StAugustin" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 2003.5381,1912.7057 -184.4524,10e-5"
id="path1664"
inkscape:label="ChausseeAntinLaFayette-HavreCaumartin" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 2124.2219,1912.9381 -120.6838,-0.2324"
id="path1662"
inkscape:label="RichelieuDrouot-ChausseeAntinLaFayette" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 2278.8227,1913.0542 -154.6008,-0.1161"
id="path1660"
inkscape:label="GrandsBoulevards-RichelieuDrouot" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 2487.6673,1913.1703 -208.8446,-0.1161"
id="path1658"
inkscape:label="BonneNouvelle-GrandsBoulevards" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 2598.9427,1913.4027 -111.2754,-0.2324"
id="path1652"
inkscape:label="StrasbourgSaintDenis-BonneNouvelle" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 2877.3635,1996.2203 c 0,0 -74.5951,-74.3682 -78.1714,-77.3585 -4.4848,-3.7498 -9.2862,-5.5445 -15.1001,-6.1561 -8.4395,-0.8877 -185.1493,0.697 -185.1493,0.697"
id="path1648"
inkscape:label="Republique-StrasbourgSaintDenis" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 2960.1813,2078.9219 -82.8178,-82.7016"
id="path1644"
inkscape:label="Oberkampf-Republique" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="M 3163.1021,2282.1912 2960.1813,2078.9219"
id="path1640"
inkscape:label="StAmbroise-Oberkampf" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3244.8744,2363.9635 -81.7723,-81.7723"
id="path1638"
inkscape:label="Voltaire-StAmbroise" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3316.5414,2436.3273 -71.667,-72.3638"
id="path1636"
inkscape:label="Charonne-Voltaire" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3392.1575,2510.8981 -75.6161,-74.5708"
id="path1632"
inkscape:label="RueDesBoulets-Charonne" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="M 3510.1699,2629.2589 3392.1575,2510.8981"
id="path2283"
inkscape:label="Nation-RueDesBoulets" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3619.5868,2564.4451 c 0,0 -74.6499,76.181 -80.1462,80.03 -4.0655,2.847 -11.1819,2.511 -14.8677,-0.8131 -5.1995,-4.6893 -14.403,-14.4031 -14.403,-14.4031"
id="path1628"
inkscape:label="Buzenval-Nation" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3678.8253,2505.0904 -59.2385,59.3547"
id="path1626"
inkscape:label="Maraichers-Buzenval" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3739.5737,2445.1551 -60.7484,59.9353"
id="path1624"
inkscape:label="PorteDeMontreuil-Maraichers" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3796.2568,2387.3105 -56.6831,57.8446"
id="path1622"
inkscape:label="Robespierre-PorteDeMontreuil" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3855.1469,2328.6527 -58.8901,58.6578"
id="path1620"
inkscape:label="CroixDeChavaux-Robespierre" />
<path
style="display:none;fill:none;stroke:#000000;stroke-opacity:1"
d="m 3913.5722,2269.5304 -58.4253,59.1223"
id="path8483"
inkscape:label="MairieDeMontreil-CroixDeChavaux" />
`;

const lines = input.split('<path');
const troncons = [];

lines.forEach(line => {
    if (line.trim() !== '') {
        let id = line.match(/inkscape:label="([^"]+)"/)[1];
        const d = line.match(/d="([^"]+)"/)[1];

        // reverse id order 
        // id = id.split('-').reverse().join('-');



        const troncon = {
            id,
            d,
            beginStation: -1,
            endStation: -1
        };

        troncons.push(troncon);
    }
});


// reverse the order of the troncons
troncons.reverse();


// check that the for each troncon, the end station is the same as the begin station of the next troncon
for (let i = 0; i < troncons.length - 1; i++) {

    const troncon = troncons[i];
    const nextTroncon = troncons[i + 1];

    const tronconEndStation = troncon.id.split('-')[1];
    const nextTronconBeginStation = nextTroncon.id.split('-')[0];

    if (tronconEndStation !== nextTronconBeginStation) {
        console.log(troncon.id, nextTroncon.id);
        console.log('error');
        // exit
        process.exit(1);
    }
}


const output = {
    troncons
};

const fs = require('fs');

console.log(JSON.stringify(output, null, 4));

// write the output to a file
fs.writeFileSync('9Corr.json', JSON.stringify(output, null, 4));